class Gleisbild {
    constructor (element, mode, save = '{"settings":{"width":30,"height":50,"zoom":0.2,"x":0,"y":0},"elements":[]}') {
        if (!element) throw new Error('Please provide an element!')
        this.argsAtStart = [element, mode]
        if (typeof element === 'string') element = document.querySelector(element)
        this.element = element
        this.mode = mode
        this.showControls = mode === 'edit'
        this.save = JSON.parse(save)
        this.zoom = this.save.settings.zoom || 0.2
        this.x = this.save.settings.x || 0
        this.y = this.save.settings.y || 0
        this.elements = this.save.elements || []
        this.eventHandlers = {}
        this.id = ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16))

        element.classList.add('gleisbild-container')
        element.classList.add('gbc')
        element.classList.add(`gbc-${this.id}`)
        if (this.showControls) element.classList.add('edit-mode')
        element.innerHTML = '<div class="gbc-fieldmap"></div>'
        const fm = element.querySelector('.gbc-fieldmap')
        this.fm = fm

        let fieldstr = ''
        for (let i = 1; i <= this.save.settings.width * this.save.settings.height; i++) {
            const row = Math.ceil(i / this.save.settings.width)
            const column = (i % this.save.settings.width) === 0 ? 30 : (i % this.save.settings.width)
            fieldstr += `
                <div class="gbc-field" data-gbf-row="${row}" data-gbf-column="${column}" data-gbf-fieldindex="${i}"></div>
            `
        }
        fm.innerHTML = fieldstr

        if (window.gbESa !== true) {
            this.addStyles()
        }

        this.elementList = {
            abteil: {
                id: 'abteil',
                name: 'Gleis-Abteil',
                imgUrl: '/gleisbild/abteil.png',
                // gbc-cog
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 320.08 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"  ><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round" /></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round" /></g><g transform="matrix(0.06 0 0 0.06 620.08 20.78)" id="DFUhICkvTdnUwGb_2HX_c"  ><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round" /></g><g transform="matrix(3.3 0 0 1.02 320.08 78.4)" id="YXMRkUIOSbZKGl2-mZnH6"  ><path style="stroke: rgb(0,0,0); stroke-width: 2; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -41.12903 -41.12903 L 41.12904 -41.12903 L 41.12904 41.12904 L -41.12903 41.12904 z" stroke-linecap="round" /></g></svg>'
            },
            'curve-down': {
                id: 'curve-down',
                name: 'Kurve nach Unten',
                imgUrl: '/gleisbild/curve-down',
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round" /></g><g transform="matrix(1 0 0 1 479.88 100.16)" id="lYYuu9jqI-SDvqJM_1jjI"  ><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -159.79848 -99.83806 C -160.44625000000002 94.49391999999999 159.79945999999998 99.83805 159.79945999999998 99.83805" stroke-linecap="round" /></g><g transform="matrix(0.06 0 0 0.06 620.3 21.02)" id="ZuyD37SqTnCTr7_htWVy_"  ><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round" /></g></svg>'
            },
            'curve-up': {
                id: 'curve-up',
                name: 'Kurve nach Oben',
                imgUrl: '/gleisbild/curve-up',
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round" /></g><g transform="matrix(1 0 0 -1 479.88 300.16)" id="lYYuu9jqI-SDvqJM_1jjI"  ><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -159.79848 -99.83806 C -160.44625000000002 94.49391999999999 159.79945999999998 99.83805 159.79945999999998 99.83805" stroke-linecap="round" /></g><g transform="matrix(0.06 0 0 0.06 620.3 21.02)" id="Y1_ptefdvpZljfvr2GM6E"  ><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round" /></g></svg>'
            },
            detector: {
                id: 'detector',
                name: 'Zug-Detector',
                imgUrl: '/gleisbild/detector.png',
                // gbc-detector-led
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 320.08 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round"/></g><g transform="matrix(0.06 0 0 0.06 620.08 20.78)" id="DFUhICkvTdnUwGb_2HX_c"><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round"/></g><g transform="matrix(1.4 0 0 0.4 320 200)" id="ppz5VDXiAxlWEZM9laLB2"><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -55.06073 2.6824 C -55.06073 -29.20825 -47.60687 -55.06073 -38.41208 -55.06073 L 38.41208 -55.06073 L 38.41208 -55.06073 C 47.606880000000004 -55.06073 55.06073000000001 -29.20825 55.06073000000001 2.6824000000000012 L 55.06073000000001 2.6824000000000012 L 55.06073000000001 2.6824000000000012 C 55.06073000000001 31.61016 48.299400000000006 55.06073 39.958870000000005 55.06073 L -39.95886999999999 55.06073 L -39.95886999999999 55.06073 C -48.29939999999999 55.06073 -55.06072999999999 31.61015 -55.06072999999999 2.6824000000000012 z" stroke-linecap="round"/></g><g transform="matrix(1.64 0 0 1.13 320 200)" id="9a8iOWldCwl9KqBoVum7F"><g style="opacity: 0.2;" vector-effect="non-scaling-stroke"><g transform="matrix(1 0 0 1 0 0)" id="GEGj2qAfRYUN4PK1vdkeR"><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(179,181,179); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-40, -40)" d="M 80 33.5 C 80 37.4 76.8 40.6 72.9 40.6 C 70.7 40.6 68.80000000000001 39.6 67.5 38.1 L 58.3 43.7 C 58.599999999999994 44.5 58.8 45.400000000000006 58.8 46.400000000000006 C 58.8 50.300000000000004 55.599999999999994 53.50000000000001 51.699999999999996 53.50000000000001 C 47.8 53.50000000000001 44.599999999999994 50.300000000000004 44.599999999999994 46.400000000000006 C 44.599999999999994 45.60000000000001 44.8 44.800000000000004 44.99999999999999 44.00000000000001 L 33.9 38 C 32.6 39.7 30.599999999999998 40.7 28.299999999999997 40.7 C 26.099999999999998 40.7 24.199999999999996 39.7 22.9 38.2 L 13.7 43.800000000000004 C 14 44.6 14.2 45.50000000000001 14.2 46.50000000000001 C 14.2 50.400000000000006 11 53.60000000000001 7.1 53.60000000000001 C 3.1999999999999997 53.60000000000001 0 50.400000000000006 0 46.50000000000001 C 0 42.60000000000001 3.2 39.400000000000006 7.1 39.400000000000006 C 9.3 39.400000000000006 11.2 40.400000000000006 12.5 41.900000000000006 L 21.7 36.300000000000004 C 21.4 35.50000000000001 21.2 34.6 21.2 33.6 C 21.2 29.700000000000003 24.4 26.5 28.299999999999997 26.5 C 32.199999999999996 26.5 35.4 29.7 35.4 33.6 C 35.4 34.4 35.199999999999996 35.2 35 36 L 46.1 42 C 47.4 40.3 49.4 39.3 51.7 39.3 C 53.900000000000006 39.3 55.800000000000004 40.3 57.1 41.8 L 66.3 36.199999999999996 C 66 35.4 65.8 34.49999999999999 65.8 33.49999999999999 C 65.8 29.599999999999994 69 26.39999999999999 72.89999999999999 26.39999999999999 C 76.8 26.4 80 29.6 80 33.5 z" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 32.9 -6.5)" id="c4FT-U-PJnn0N2LAgl9XF"><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-72.9, -33.5)" d="M 72.9 30.2 C 71.10000000000001 30.2 69.60000000000001 31.7 69.60000000000001 33.5 C 69.60000000000001 35.3 71.10000000000001 36.8 72.9 36.8 C 74.7 36.8 76.2 35.3 76.2 33.5 C 76.2 31.7 74.7 30.2 72.9 30.2 z" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 11.7 6.4)" id="hKZJnrJL3XuEA6gDyCfxj"><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-51.7, -46.4)" d="M 51.7 43.1 C 49.900000000000006 43.1 48.400000000000006 44.6 48.400000000000006 46.4 C 48.400000000000006 48.199999999999996 49.900000000000006 49.699999999999996 51.7 49.699999999999996 C 53.5 49.699999999999996 55 48.199999999999996 55 46.4 C 55 44.6 53.5 43.1 51.7 43.1 z" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 -11.7 -6.5)" id="QdRkP8hLW_ZTWJeAYhoDK"><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-28.3, -33.5)" d="M 28.3 30.2 C 26.5 30.2 25 31.7 25 33.5 C 25 35.3 26.5 36.8 28.3 36.8 C 30.1 36.8 31.6 35.3 31.6 33.5 C 31.6 31.7 30.1 30.2 28.3 30.2 z" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 -32.8 6.5)" id="26WNHNQnKqdb0pwn3si82"><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-7.2, -46.5)" d="M 10.5 46.5 C 10.5 48.3 9 49.8 7.2 49.8 C 5.4 49.8 3.9000000000000004 48.3 3.9000000000000004 46.5 C 3.9000000000000004 44.7 5.4 43.2 7.2 43.2 C 9 43.2 10.5 44.6 10.5 46.5 z" stroke-linecap="round"/></g></g></g><g transform="matrix(0.25 0 0 0.25 320 200)" id="02r8Pp-LWvH_K9GsUPgqh"><path class="gbc-detector-led" style="stroke: rgb(0 0 0);stroke-width: 0;stroke-dasharray: none;stroke-linecap: butt;stroke-dashoffset: 0;stroke-linejoin: miter;stroke-miterlimit: 4;fill: rgb(0, 0, 0);fill-rule: nonzero;opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -32.38866 C 17.87854 -32.38866 32.38866 -17.87854 32.38866 0 C 32.38866 17.87854 17.87854 32.38866 0 32.38866 C -17.87854 32.38866 -32.38866 17.87854 -32.38866 0 C -32.38866 -17.87854 -17.87854 -32.38866 0 -32.38866 z" stroke-linecap="round"/></g></svg>'
            },
            entkupplungsgleis: {
                id: 'entkupplungsgleis',
                name: 'Entkupplungsgleis',
                imgUrl: '/gleisbild/entkupplungsgleis.png',
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 320.08 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"  ><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round" /></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round" /></g><g transform="matrix(0.06 0 0 0.06 620.08 20.78)" id="DFUhICkvTdnUwGb_2HX_c"  ><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round" /></g><g transform="matrix(1.53 0 0 0.43 320 200)" id="kAjJvxRlD99C-EUl80Xf7"  ><path style="stroke: rgb(0,0,0); stroke-width: 3; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -81.61943 -81.58357 C -81.61943 -81.60338 -81.61493 -81.61944 -81.60938999999999 -81.61944 L 81.60939000000002 -81.61944 L 81.60939000000002 -81.61944 C 81.61494000000002 -81.61944 81.61943000000002 -81.60338 81.61943000000002 -81.58357 L 81.61943000000002 81.58902000000002 L 81.61943000000002 81.58902000000002 C 81.61943000000002 81.60581000000002 81.61562000000002 81.61942000000002 81.61092000000002 81.61942000000002 L -81.61090999999999 81.61942000000002 L -81.61090999999999 81.61942000000002 C -81.61560999999999 81.61942000000002 -81.61941999999999 81.60581000000002 -81.61941999999999 81.58902000000002 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 256.72 176.25)" id="U5edgaaJU4T_IfUz9M1_K"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 301.03 176.25)" id="ScrIeMM5dvdYA4NiVQ_Zt"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 279.17 176.25)" id="EBs822qDrk78qIpvhlq4t"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 388.91 176.25)" id="qgAPaklcKsugPyyDAI_lB"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0 -0.43 0.43 0 234.63 205)" id="zY4T7hQn2PX96QQkxDPYa"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 41.17 72.5 L 80 40 L 41.17 7.5 L 41.17 28.105 L 0 28.105 L 0 51.952 L 41.17 51.952 L 41.17 72.5 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 234.86 176.25)" id="zdGBYMMg000iRB73UN19L"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 366.81 176.25)" id="7VuycInKomJMcDlewJyEA"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 344.95 176.25)" id="XAArZU-BURwhmBmFWpDBK"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 323.13 176.25)" id="qILuN9qUJBgb10QVibiIp"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0.54 0 0 0.54 411.01 176.26)" id="Mz4Xlz0sF-PMhLMhG90DJ"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 65.7 25.7 L 54.2 25.7 C 47.5 25.7 41.900000000000006 30.299999999999997 40.300000000000004 36.5 L 39.6 36.5 C 38 30.3 32.4 25.7 25.700000000000003 25.7 L 14.3 25.7 C 6.4 25.7 0 32.1 0 40 C 0 47.9 6.4 54.3 14.3 54.3 L 25.8 54.3 C 32.2 54.3 37.5 50.099999999999994 39.4 44.4 L 40.6 44.4 C 42.5 50.1 47.800000000000004 54.3 54.2 54.3 L 65.7 54.3 C 73.6 54.3 80 47.9 80 40 C 80 32.1 73.6 25.7 65.7 25.7 z M 25.8 46.9 L 14.3 46.9 C 10.5 46.9 7.4 43.8 7.4 40 C 7.4 36.2 10.5 33.1 14.3 33.1 L 25.8 33.1 C 28.3 33.1 30.6 34.5 31.8 36.6 L 26.8 36.6 C 24.6 36.6 22.900000000000002 38.4 22.900000000000002 40.5 C 22.900000000000002 42.6 24.700000000000003 44.4 26.8 44.4 L 31.8 44.4 C 30.5 45.9 28 46.9 25.8 46.9 z M 65.7 46.9 L 54.2 46.9 C 52.1 46.9 49.5 45.9 48.2 44.4 L 52.5 44.4 C 54.7 44.4 56.4 42.6 56.4 40.5 C 56.4 38.4 54.6 36.6 52.5 36.6 L 48.2 36.6 C 49.400000000000006 34.5 51.6 33.1 54.2 33.1 L 65.7 33.1 C 69.5 33.1 72.60000000000001 36.2 72.60000000000001 40 C 72.6 43.8 69.5 46.9 65.7 46.9 z" stroke-linecap="round" /></g><g transform="matrix(0 -0.43 0.43 0 320 205.03)" id="mzU-XD0eOvOdbIe0SKOAt"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 41.17 72.5 L 80 40 L 41.17 7.5 L 41.17 28.105 L 0 28.105 L 0 51.952 L 41.17 51.952 L 41.17 72.5 z" stroke-linecap="round" /></g><g transform="matrix(0 -0.43 0.43 0 411 205.03)" id="IFNZOoegTBSAAs3bc9qIN"  ><path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-40, -40)" d="M 41.17 72.5 L 80 40 L 41.17 7.5 L 41.17 28.105 L 0 28.105 L 0 51.952 L 41.17 51.952 L 41.17 72.5 z" stroke-linecap="round" /></g></svg>'
            },
            portal: {
                id: 'portal',
                name: 'Portal-Verbinder',
                imgUrl: '/gleisbild/portal.png',
                // gbc-portal-fill
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 320.08 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round"/></g><g transform="matrix(0.06 0 0 0.06 620.08 20.78)" id="DFUhICkvTdnUwGb_2HX_c"><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round"/></g><g transform="matrix(1.97 0 0 0.16 482.58 199.55)" id="hjBr-QQeGNQShug7E4dZh"><path style="stroke: rgb(229,60,0); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -82.5911 -82.5911 L 82.59109 -82.5911 L 82.59109 82.59109 L -82.5911 82.59109 z" stroke-linecap="round"/></g><g transform="matrix(1.21 0 0 1.21 320 200)" id="lb1nlYiaqS9z1_lGoHweM"><path class="gbc-portal-fill" style="stroke: rgb(0,0,0);stroke-width: 10;stroke-dasharray: none;stroke-linecap: butt;stroke-dashoffset: 0;stroke-linejoin: miter;stroke-miterlimit: 4;fill: rgb(0,0,0);fill-rule: nonzero;opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -30.95238 C 17.08571 -30.95238 30.95238 -17.085710000000002 30.95238 0 C 30.95238 17.08571 17.085710000000002 30.95238 0 30.95238 C -17.08571 30.95238 -30.95238 17.085710000000002 -30.95238 0 C -30.95238 -17.08571 -17.085710000000002 -30.95238 0 -30.95238 z" stroke-linecap="round"/></g></svg>'
            },
            prellbock: {
                id: 'prellbock',
                name: 'Prellbock',
                imgUrl: '/gleisbild/prellbock.png',
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(0.5 0 0 1 159.93 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"  ><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round" /></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round" /></g><g transform="matrix(0.12 0 0 1.12 320.01 200)" id="2G-iA9700LwAVi6TsDnZ-"  ><path style="stroke: rgb(59,95,69); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -40.16194 -40.16194 L 40.16194 -40.16194 L 40.16194 40.16194 L -40.16194 40.16194 z" stroke-linecap="round" /></g><g transform="matrix(0.06 0 0 0.06 620.3 21.02)" id="6g1-yErTM8trvL5WTtzCs"  ><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round" /></g></svg>'
            },
            signal: {
                id: 'signal',
                name: 'Signal',
                imgUrl: '/gleisbild/signal.png',
                // gbc-cog
                // gbc-s-green-btn
                // gbc-s-red-btn
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 320.08 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round"/></g><g transform="matrix(0.06 0 0 0.06 620.08 20.78)" id="DFUhICkvTdnUwGb_2HX_c"><path xmlns="http://www.w3.org/2000/svg" class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round"/></g><g transform="matrix(0.44 0 0 0.44 320 236.26)" id="Yzg59ExUkTiaa183mj6s1"><image style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" xlink:href="data:image/png;base64,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" x="-200" y="-320" width="400" height="640"/></g><g transform="matrix(0.58 0 0 1 320.08 333.77)" id="r6-fRJ8yUDOfJi32v1ioJ"><path style="stroke: rgb(232,35,10); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -59.27125 -59.27125 L 59.27125 -59.27125 L 59.27125 59.27125 L -59.27125 59.27125 z" stroke-linecap="round"/></g><g transform="matrix(0.41 0 0 0.41 405.28 170.07)" id="1wWAk2BgzYtRNQ8WvYXsj"><path xmlns="http://www.w3.org/2000/svg" class="gbc-s-green-btn" style="stroke: rgb(228,124,14); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(44,113,40); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -45.07042 C 24.87887 -45.07042 45.07042 -24.87887 45.07042 0 C 45.07042 24.87887 24.87887 45.07042 0 45.07042 C -24.87887 45.07042 -45.07042 24.87887 -45.07042 0 C -45.07042 -24.87887 -24.87887 -45.07042 0 -45.07042 z" stroke-linecap="round"/></g><g transform="matrix(0.41 0 0 0.41 405.28 231.45)" id="NeClBKzcJIXuFB-uGbL1n"><path xmlns="http://www.w3.org/2000/svg" class="gbc-s-red-btn" style="stroke: rgb(228,124,14); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(204,88,88); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -45.07042 C 24.87887 -45.07042 45.07042 -24.87887 45.07042 0 C 45.07042 24.87887 24.87887 45.07042 0 45.07042 C -24.87887 45.07042 -45.07042 24.87887 -45.07042 0 C -45.07042 -24.87887 -24.87887 -45.07042 0 -45.07042 z" stroke-linecap="round"/></g></svg>'
            },
            station: {
                id: 'station',
                name: 'Bahnhof / Haltepunkt',
                imgUrl: '/gleisbild/station.png',
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 320.08 200)" id="ZpvbJas5ZC5AAEzfv7-Zr"  ><path style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -319.61538 0 L 319.61539 0" stroke-linecap="round" /></g><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round" /></g><g transform="matrix(0.06 0 0 0.06 620.08 20.78)" id="DFUhICkvTdnUwGb_2HX_c"  ><path class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round" /></g><g transform="matrix(3.3 0 0 1.02 320.08 78.4)" id="YXMRkUIOSbZKGl2-mZnH6"  ><path style="stroke: rgb(0,0,0); stroke-width: 2; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(0, 0)" d="M -41.12903 -41.12903 L 41.12904 -41.12903 L 41.12904 41.12904 L -41.12903 41.12904 z" stroke-linecap="round" /></g><g transform="matrix(1 0 0 1 320.08 200)" id="o0ThinIC36iJi3Pc3Qoai"  ><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke"  transform=" translate(-135.06, -34.01)" d="M 0 14.42841 C 0 6.45982 6.45982 0 14.42841 0 L 255.69305000000003 0 L 255.69305000000003 0 C 263.66164000000003 0 270.12146 6.45982 270.12146 14.42841 L 270.12146 53.58778 L 270.12146 53.58778 C 270.12146 61.55637 263.66164000000003 68.01619 255.69305000000003 68.01619 L 14.428410000000014 68.01619 L 14.428410000000014 68.01619 C 6.459820000000014 68.01619 1.4210854715202004e-14 61.556369999999994 1.4210854715202004e-14 53.587779999999995 z" stroke-linecap="round" /></g></svg>'
            },
            'weiche-links': {
                id: 'weiche-links',
                name: 'Weiche Links',
                imgUrl: '/gleisbild/weiche-links.png',
                // gbc-cog
                // gbc-w-left-btn
                // gbc-w-right-btn
                // gbc-w-left-stroke
                // gbc-w-right-stroke
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs/><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round"/></g><g transform="matrix(-1 0 0 1 159.88 100.16)" id="lYYuu9jqI-SDvqJM_1jjI"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-left-stroke" style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -159.79848 -99.83806 C -160.44625000000002 94.49391999999999 159.79945999999998 99.83805 159.79945999999998 99.83805" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 320 200)" id="XxxLAf9_78AjLcg_Fkrvp"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-right-stroke" style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -319.67611 0 L 319.67611999999997 0" stroke-linecap="round"/></g><g transform="matrix(0.06 0 0 0.06 619.7 21.18)" id="1zbOQ99LVIXY4L0nJOGeu"><path xmlns="http://www.w3.org/2000/svg" class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round"/></g><g transform="matrix(0.31 0 0 0.31 344.73 175.77)" id="20leldtUbr-rhaw9nWawT"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-right-btn" style="stroke: rgb(228,124,14); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(204,88,88); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -45.07042 C 24.87887 -45.07042 45.07042 -24.87887 45.07042 0 C 45.07042 24.87887 24.87887 45.07042 0 45.07042 C -24.87887 45.07042 -45.07042 24.87887 -45.07042 0 C -45.07042 -24.87887 -24.87887 -45.07042 0 -45.07042 z" stroke-linecap="round"/></g><g transform="matrix(0.31 0 0 0.31 344.89 16.3)" id="xhKS4ENrgEES5Rf2HlJed"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-left-btn" style="stroke: rgb(228,124,14); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(204,88,88); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -45.07042 C 24.87887 -45.07042 45.07042 -24.87887 45.07042 0 C 45.07042 24.87887 24.87887 45.07042 0 45.07042 C -24.87887 45.07042 -45.07042 24.87887 -45.07042 0 C -45.07042 -24.87887 -24.87887 -45.07042 0 -45.07042 z" stroke-linecap="round"/></g></svg>'
            },
            'weiche-rechts': {
                id: 'weiche-rechts',
                name: 'Weiche Rechts',
                imgUrl: '/gleisbild/weiche-rechts.png',
                // gbc-cog
                // gbc-w-left-btn
                // gbc-w-right-btn
                // gbc-w-left-stroke
                // gbc-w-right-stroke
                svgCode: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="640" height="400" viewBox="0 0 640 400" xml:space="preserve"><desc>Created with Fabric.js 4.6.0</desc><defs></defs><g transform="matrix(1 0 0 1 217.81 195)" id="RtrWzZztWs_hXfWIeFpEg"><path style="stroke: rgb(0,0,0); stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 0" stroke-linecap="round"/></g><g transform="matrix(-1 0 0 -1 159.88 300.16)" id="lYYuu9jqI-SDvqJM_1jjI"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-right-stroke" style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -159.79848 -99.83806 C -160.44625000000002 94.49391999999999 159.79945999999998 99.83805 159.79945999999998 99.83805" stroke-linecap="round"/></g><g transform="matrix(1 0 0 1 320 200)" id="XxxLAf9_78AjLcg_Fkrvp"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-left-stroke" style="stroke: rgb(0,0,0); stroke-width: 10; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-opacity: 0; fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M -319.67611 0 L 319.67611999999997 0" stroke-linecap="round"/></g><g transform="matrix(0.06 0 0 0.06 619.7 21.18)" id="1zbOQ99LVIXY4L0nJOGeu"><path xmlns="http://www.w3.org/2000/svg" class="gbc-cog" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-255.95, -255.95)" d="M 495.9 166.6 C 499.09999999999997 175.29999999999998 496.4 185 489.5 191.2 L 446.2 230.6 C 447.3 238.9 447.9 247.4 447.9 256 C 447.9 264.6 447.29999999999995 273.1 446.2 281.4 L 489.5 320.79999999999995 C 496.4 326.99999999999994 499.1 336.69999999999993 495.9 345.4 C 491.5 357.29999999999995 486.2 368.7 480.09999999999997 379.7 L 475.4 387.8 C 468.79999999999995 398.8 461.4 409.2 453.29999999999995 419 C 447.4 426.2 437.59999999999997 428.6 428.79999999999995 425.8 L 373.09999999999997 408.1 C 359.7 418.40000000000003 344.9 427 329.09999999999997 433.5 L 316.59999999999997 490.6 C 314.59999999999997 499.70000000000005 307.59999999999997 506.90000000000003 298.4 508.40000000000003 C 284.59999999999997 510.70000000000005 270.4 511.90000000000003 255.89999999999998 511.90000000000003 C 241.39999999999998 511.90000000000003 227.2 510.70000000000005 213.39999999999998 508.40000000000003 C 204.2 506.90000000000003 197.2 499.70000000000005 195.2 490.6 L 182.7 433.5 C 166.89999999999998 427 152.1 418.4 138.7 408.1 L 83.1 425.9 C 74.3 428.7 64.5 426.2 58.599999999999994 419.09999999999997 C 50.49999999999999 409.29999999999995 43.099999999999994 398.9 36.49999999999999 387.9 L 31.799999999999994 379.79999999999995 C 25.699999999999996 368.79999999999995 20.39999999999999 357.4 15.999999999999993 345.49999999999994 C 12.799999999999994 336.79999999999995 15.499999999999993 327.09999999999997 22.39999999999999 320.8999999999999 L 65.69999999999999 281.49999999999994 C 64.6 273.1 64 264.6 64 256 C 64 247.39999999999998 64.6 238.9 65.7 230.6 L 22.4 191.2 C 15.499999999999998 185 12.799999999999999 175.29999999999998 15.999999999999998 166.6 C 20.4 154.7 25.699999999999996 143.29999999999998 31.799999999999997 132.3 L 36.5 124.20000000000002 C 43.1 113.20000000000002 50.5 102.80000000000001 58.6 93.00000000000001 C 64.5 85.80000000000001 74.3 83.40000000000002 83.1 86.20000000000002 L 138.8 103.90000000000002 C 152.20000000000002 93.60000000000002 167 85.00000000000003 182.8 78.50000000000003 L 195.3 21.400000000000027 C 197.3 12.300000000000027 204.3 5.100000000000026 213.5 3.6000000000000263 C 227.3 1.2 241.5 0 256 0 C 270.5 0 284.7 1.2 298.5 3.5 C 307.7 5 314.7 12.2 316.7 21.3 L 329.2 78.4 C 345 84.9 359.8 93.5 373.2 103.80000000000001 L 428.9 86.10000000000001 C 437.7 83.30000000000001 447.5 85.80000000000001 453.4 92.9 C 461.5 102.7 468.9 113.10000000000001 475.5 124.10000000000001 L 480.2 132.20000000000002 C 486.3 143.20000000000002 491.59999999999997 154.60000000000002 496 166.5 z M 256 336 C 300.2 336 336 300.2 336 256 C 336 211.8 300.2 176 256 176 C 211.8 176 176 211.8 176 256 C 176 300.2 211.8 336 256 336 z" stroke-linecap="round"/></g><g transform="matrix(0.31 0 0 0.31 345.05 381.59)" id="20leldtUbr-rhaw9nWawT"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-right-btn" style="stroke: rgb(228,124,14); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(204,88,88); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -45.07042 C 24.87887 -45.07042 45.07042 -24.87887 45.07042 0 C 45.07042 24.87887 24.87887 45.07042 0 45.07042 C -24.87887 45.07042 -45.07042 24.87887 -45.07042 0 C -45.07042 -24.87887 -24.87887 -45.07042 0 -45.07042 z" stroke-linecap="round"/></g><g transform="matrix(0.31 0 0 0.31 344.89 223.26)" id="xhKS4ENrgEES5Rf2HlJed"><path xmlns="http://www.w3.org/2000/svg" class="gbc-w-left-btn" style="stroke: rgb(228,124,14); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(204,88,88); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(0, 0)" d="M 0 -45.07042 C 24.87887 -45.07042 45.07042 -24.87887 45.07042 0 C 45.07042 24.87887 24.87887 45.07042 0 45.07042 C -24.87887 45.07042 -45.07042 24.87887 -45.07042 0 C -45.07042 -24.87887 -24.87887 -45.07042 0 -45.07042 z" stroke-linecap="round"/></g></svg>'
            }
        }

        let p = this

        document.querySelector(`.gbc-${this.id}`).innerHTML += `
                <div class="gbc-onfd gbc-hidden">
                    <h1>Was mchten Sie hinzufgen? <i class="fa-solid fa-square-xmark gbc-onfd-close-btn"></i></h1>
                    <div class="gbc-onfd-cc">
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-abteil">
                            <h2>Gleis-Abteil</h2>
                            <div style="background-image:url('/gleisbild/abteil.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e  gbc-onfd-cc-e-curve-down">
                            <h2>Kurve nach Unten</h2>
                            <div style="background-image:url('/gleisbild/curve-down.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e  gbc-onfd-cc-e-curve-up">
                            <h2>Kurve nach Oben</h2>
                            <div style="background-image:url('/gleisbild/curve-up.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-detector">
                            <h2>Zug Detector</h2>
                            <div style="background-image:url('/gleisbild/detector.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e  gbc-onfd-cc-e-entkupplungsgleis">
                            <h2>Entkupplungsgleis</h2>
                            <div style="background-image:url('/gleisbild/entkupplungsgleis.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-weiche-links">
                            <h2>Weiche Links</h2>
                            <div style="background-image:url('/gleisbild/weiche-links.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-weiche-rechts">
                            <h2>Weiche Rechts</h2>
                            <div style="background-image:url('/gleisbild/weiche-rechts.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-signal">
                            <h2>Signal</h2>
                            <div style="background-image:url('/gleisbild/signal.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-station">
                            <h2>Bahnhof / Haltepunkt</h2>
                            <div style="background-image:url('/gleisbild/station.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e gbc-onfd-cc-e-prellbock">
                            <h2>Prellbock</h2>
                            <div style="background-image:url('/gleisbild/prellbock.png')" class="gbc-img-cc"></div>
                        </div>
                        <div class="gbc-onfd-cc-e  gbc-onfd-cc-e-portal">
                            <h2>Portal-Verbinder</h2>
                            <div style="background-image:url('/gleisbild/portal.png')" class="gbc-img-cc"></div>
                        </div>
                    </div>
                </div>
        `
        setTimeout(() => {
            document.querySelector(`.gbc-${this.id} .gbc-onfd-close-btn`).addEventListener('click', function gbcel1() {
                window.gbcCurrentOnfdResolve(null)
            })

            for (const ce of document.querySelectorAll(`.gbc-${this.id} .gbc-onfd-cc-e`)) {
                ce.addEventListener('click', (e) => {
                    window.gbcCurrentOnfdResolve(p.elementList[e.target.closest('.gbc-onfd-cc-e').classList[1].replace('gbc-onfd-cc-e-', '')])
                })
            }
        }, 200)

        this.renderModeSwitchButton()
        this.updateSizes()
        this.updateMovement()
        this.renderFields()
        this.renderEmptyFields()

        function getDistance(touch1, touch2) {
            var xDiff = touch1.clientX - touch2.clientX
            var yDiff = touch1.clientY - touch2.clientY
            return Math.sqrt(xDiff * xDiff + yDiff * yDiff)
        }
        let tzInitialDistance = null
        const threshold = 0.001
        document.querySelector(`.gbc-${this.id}`).addEventListener('wheel', (e) => {
            if (window.gbeionfdo) return
            e.preventDefault()
            if (e.deltaY < 0) {
                p.zoom += 0.01
                p.updateSizes()
            }
            if (e.deltaY > 0) {
                p.zoom -= 0.01
                p.updateSizes()
            }
        })

        document.querySelector(`.gbc-${this.id}`).addEventListener('touchstart', (event) => {
            if (event.touches.length === 2) {
                event.preventDefault();
                window.gbeionfdo = true
                tzInitialDistance = getDistance(event.touches[0], event.touches[1])
            }
        })

        document.querySelector(`.gbc-${this.id}`).addEventListener('touchmove', (event) => {
            event.preventDefault();
            if (event.touches.length === 2) {
                if (Math.abs(event.scale - 1) > threshold) {
                    p.zoom += (event.scale - 1) * 0.02;
                    p.updateSizes();
                }
            }
        })

        document.querySelector(`.gbc-${this.id}`).addEventListener('touchend', (event) => {
            window.gbeionfdo = false
            tzInitialDistance = null
        })

        let isMouseDown = false
        let targetsElem = false
        let tmLastMovementX = 0
        let tmLastMovementY = 0

        document.querySelector(`.gbc-${this.id}`).addEventListener('mousedown', (e) => {
            isMouseDown = true
            targetsElem = e.target.closest(`.gbc-${this.id}`) !== null
        })

        document.addEventListener('mouseup', () => {
            isMouseDown = false
            targetsElem = false
        })

        document.addEventListener('mousemove', (e) => {
            if (isMouseDown && targetsElem && !window.gbeionfdo) {
                p.x += e.movementX
                p.y += e.movementY
                p.updateMovement()
            }
        })

        // Add touch event listeners
        document.querySelector(`.gbc-${this.id}`).addEventListener('touchstart', (e) => {
            if (e.touches.length !== 1) return
            isMouseDown = true
            targetsElem = e.target.closest(`.gbc-${this.id}`) !== null
            tmLastMovementX = e.touches[0].clientX
            tmLastMovementY = e.touches[0].clientY
        })

        document.addEventListener('touchend', () => {
            isMouseDown = false
            targetsElem = false
        })

        document.addEventListener('touchmove', (e) => {
            if (isMouseDown && targetsElem && !window.gbeionfdo) {
                const touch = e.touches[0];
                let movementX = touch.clientX - tmLastMovementX;
                let movementY = touch.clientY - tmLastMovementY;
                p.x += movementX
                p.y += movementY
                p.updateMovement()
                tmLastMovementX = touch.clientX;
                tmLastMovementY = touch.clientY;
            }
        })



        var all = ['/gleisbild/abteil.png', '/gleisbild/curve-down.png', '/gleisbild/curve-up.png', '/gleisbild/detector.png', '/gleisbild/entkupplungsgleis.png', '/gleisbild/portal.png', '/gleisbild/prellbock.png', '/gleisbild/signal.png', '/gleisbild/station.png', '/gleisbild/weiche-links.png', '/gleisbild/weiche-rechts.png',]
        function onAllImagesLoaded() {}
        function preload() {
            var i = new Image()
            var src = all.pop()
            if (!src) {
                onAllImagesLoaded()
                return
            }
            i.src = src
            i.onload = preload
        }
        preload()

        ;(new MutationObserver(() => {
            p.reconstruct()
        })).observe(document.body, { characterData: false, childList: true, attributes: false })
    }

    reconstruct () {
        const newGB = new this.constructor(...this.argsAtStart, this.export())
        const p = this
        newGB.on('change', () => {
            p.dispatch('change')
        })
        this.export = () => {
            return newGB.export()
        }
        this.on = newGB.on
        this.setElemArray = (arr) => {
            return newGB.setElemArray(arr)
        }
        return newGB
    }

    setElemArray (arr) {
        this.elements = arr
    }

    dispatch (event, value = null) {
        if (!this.eventHandlers[event]) this.eventHandlers[event] = []
        for (const handler of this.eventHandlers[event]) {
            handler(value)
        }
    }

    on (event, cb) {
        if (!this.eventHandlers[event]) this.eventHandlers[event] = []
        this.eventHandlers[event].push(cb)
    }

    openNewFieldDialogue () {
        window.gbeionfdo = true
        return new Promise(resolve => {
            document.querySelector(`.gbc-${this.id} .gbc-onfd`).classList.remove('gbc-hidden')
            window.gbcCurrentOnfdResolve = (val) => {
                document.querySelector(`.gbc-${this.id} .gbc-onfd`).classList.add('gbc-hidden')
                window.gbeionfdo = false
                resolve(val)
            }
        })
    }

    renderModeSwitchButton () {
        let p = this
        if (this.showControls) {
            // Add button to toggle between modes
            (document.querySelector(`.gbc-${this.id} .gbc-togglemodebtn`) || { outerHTML: '' }).outerHTML = ''
            document.querySelector(`.gbc-${this.id}`).innerHTML += `<button class="gbc-togglemodebtn"><i class="fa-solid fa-book-open"></i></button>`
            document.querySelector(`.gbc-${this.id} .gbc-togglemodebtn`).addEventListener('click', function gbcel2 () {
                if (this.showControls) {
                    this.showControls = false
                    this.mode = 'view'
                    document.querySelector(`.gbc-${this.id} .gbc-togglemodebtn`).innerHTML = '<i class="fa-solid fa-pen"></i>'
                    p.removeEmptyFields()
                } else {
                    this.showControls = true
                    this.mode = 'edit'
                    document.querySelector(`.gbc-${this.id} .gbc-togglemodebtn`).innerHTML = '<i class="fa-solid fa-book-open"></i>'
                    p.renderEmptyFields()
                }
                document.querySelector(`.gbc-${this.id}`).classList.toggle('edit-mode')
            })
        }
    }

    renderField (field) {
        const x = field.dataset.gbfColumn
        const y = field.dataset.gbfRow
        const elementData = this.elements.filter(e => e.x === x && e.y === y)[0]
        const { rotation, properties, type } = elementData
        const svgCode = this.elementList[type].svgCode
        const p = this
        
        field.innerHTML = `
            ${svgCode}
        `

        console.log(rotation)
        if (rotation === 180) {
            console.log(field)
            document.querySelector(`.gbc-${this.id} .gbc-field[data-gbf-column="${x}"][data-gbf-row="${y}"]`).classList.add('gbc-rotate-180')
        } else {
            document.querySelector(`.gbc-${this.id} .gbc-field[data-gbf-column="${x}"][data-gbf-row="${y}"]`).classList.remove('gbc-rotate-180')
        }

        if (field.querySelector('svg')) {
            field.querySelector('svg').setAttribute('width', 640 * this.zoom)
            field.querySelector('svg').setAttribute('height', 400 * this.zoom)
            for (const path of field.querySelector('svg').querySelectorAll('path')) {
                if (!path.getAttribute('original-stroke-width')) path.setAttribute('original-stroke-width', path.style.strokeWidth)
                path.style.strokeWidth = path.getAttribute('original-stroke-width') * this.zoom
            }
            field.querySelector('svg .gbc-cog').addEventListener('click', function gbcel3 () {
                document.body.innerHTML += `
                    <div class="gbc-epcc">
                        <h2>${p.elementList[type].name}</h2>
                        <button class="gbc-epcc-rotate-btn">Drehen</button>
                    </div>
                `
                document.querySelector('.gbc-epcc-rotate-btn').addEventListener('click', function gbcel4 () {
                    let arr = []
                    for (let item of p.save.elements) {
                        if (item.x === x && item.y === y) {
                            item.rotation += 180
                            if (item.rotation > 360) item.rotation -= 360
                        }
                        arr.push(item)
                    }
                    p.setElemArray(arr)
                    p.dispatch('rotation-change')
                    p.dispatch('field-change')
                    p.dispatch('change')
                    p.renderField(field)
                })
            })
        }
    }

    renderFields () {
        for (const element of this.elements) {
            const { x, y } = element
            const field = document.querySelector(`.gbc-${this.id} .gbc-field[data-gbf-row="${y}"][data-gbf-column="${x}"]`)
            if (!field) return
            this.renderField(field)
        }
    }

    addField ([x, y], type) {
        this.elements = Array.isArray(this.elements) ? this.elements : []
        this.elements.push({
            x,
            y,
            rotation: 0,
            type: type.id,
            properties: {}
        })
        this.dispatch('field-change')
        this.dispatch('change')
    }

    renderEmptyFields () {
        let p = this
        if (!this.showControls) return
        for (const field of document.querySelector(`.gbc-${this.id}`).querySelectorAll('.gbc-field')) {
            if (!field.innerHTML.trim()) {
                field.classList.add('gbc-empty-field')
                field.innerHTML = `<i class="fa-solid fa-circle-plus"></i>`
                field.querySelector('i').addEventListener('click', async () => {
                    if (window.gbeionfdo) return
                    const type = await p.openNewFieldDialogue()
                    if (type === null) return
                    
                    field.innerHTML = ''
                    field.classList.remove('gbc-empty-field')
                    p.addField([field.dataset.gbfColumn, field.dataset.gbfRow], type)
                    p.renderField(field)
                })
            }
        }
    }

    removeEmptyFields () {
        for (const field of document.querySelectorAll(`.gbc-${this.id} .gbc-empty-field`)) {
            field.innerHTML = ''
            field.classList.remove('gbc-empty-field')
        }
    }

    export () {
        this.save.settings.zoom = this.zoom
        this.save.settings.x = this.x
        this.save.settings.y = this.y
        this.save.elements = this.elements
        return JSON.stringify(this.save)
    }

    updateSizes () {
        const elem = document.querySelector(`.gbc-${this.id}`)
        const fm = elem.querySelector('.gbc-fieldmap')

        fm.style.width = `${640 * this.zoom * this.save.settings.width}px`
        fm.style.height = `${400 * this.zoom * this.save.settings.height}px`
        for (const field of elem.querySelectorAll('.gbc-field')) {
            field.style.width = `${640 * this.zoom}px`
            field.style.height = `${400 * this.zoom}px`
            field.style.fontSize = `${120 * this.zoom}px`

            if (field.querySelector('svg')) {
                field.querySelector('svg').setAttribute('width', 640 * this.zoom)
                field.querySelector('svg').setAttribute('height', 400 * this.zoom)
                for (const path of field.querySelector('svg').querySelectorAll('path')) {
                    path.style.strokeWidth = path.style.strokeWidth * this.zoom
                    if (!path.getAttribute('original-stroke-width')) path.setAttribute('original-stroke-width', path.style.strokeWidth)
                    path.style.strokeWidth = path.getAttribute('original-stroke-width') * this.zoom
                }
            }
        }

        this.dispatch('change')
        this.dispatch('size-change')
    }

    updateMovement () {
        const elem = document.querySelector(`.gbc-${this.id}`)
        const fm = elem.querySelector('.gbc-fieldmap')
        fm.style.transform = `translate(${this.x}px, ${this.y}px)`

        this.dispatch('change')
        this.dispatch('position-change')
    }

    addStyles () {
        window.gbESa = true
        document.querySelector('head').innerHTML += `
            <style>
                .gbc-cog:hover {
                    fill: #b83434 !important;
                    cursor: pointer;
                }

                .gbc {
                    background: #fff;
                    position: relative;
                    overflow: hidden;
                }
                .gbc-togglemodebtn {
                    position: absolute;
                    bottom: 2%;
                    right: 2%;
                    outline: none;
                    border: 2px solid #b83434;
                    background: #fff;
                    color: #cc5858;
                    padding: 1%;
                    border-radius: 100vw;
                }
                .gbc-togglemodebtn:hover {
                    background: #b83434;
                    color: #fff;
                    cursor: pointer;
                }
                .gbc-onfd {
                    position: absolute;
                    width: 70%;
                    height: 80%;
                    top: 10%;
                    left: 15%;
                    border: 2px solid #b83434;
                    background: #fff;
                    border-radius: 10px;
                    padding: 1%;
                    color: #000;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;      
                    overflow-y: auto; 
                    text-align: center;
                    color: #b83434;  
                    padding-top: 30%;         
                }
                .gbc-onfd-cc {
                    display: flex;
                    justify-content: space-evenly;
                    align-items: center;
                    flex-wrap: wrap;
                    flex-direction: row;
                    width: 90%;  
                    margin-top: 3%;       
                }
                .gbc-onfd-cc-e {
                    display: flex;
                    flex-direction: column;
                    justify-content: space-evenly;
                    align-items: center;
                    text-align: center;
                    border: 1px solid #b83434;
                    border-radius: 10px;
                    padding: 1%;
                    cursor: pointer;
                    color: #000;
                    width: 30%;
                    font-size: 75%;
                    margin-bottom: 2%;
                }
                .gbc-onfd-cc-e .gbc-img-cc {
                    aspect-ratio: 640 / 400;
                    height: auto;
                    max-height: 90%;
                    width: 95%;
                    background-size: contain;
                    background-repeat: no-repeat;
                }
                .gbc-onfd-close-btn {
                    cursor: pointer;
                }
                .gbc-fieldmap {
                    display: flex;
                    flex-direction: row;
                    justify-content: center;
                    align-items: center;
                    flex-wrap: wrap;
                }
                .gbc-hidden {
                    display: none;
                }
                .gbc-field {
                    
                }
                .gbc-empty-field {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    text-align: center;
                }
                .gbc-empty-field i {
                    font-size: 2em;
                    color: #cc5858;
                }
                .gbc-empty-field i:hover {
                    font-size: 2em;
                    color: #b83434;
                    cursor: pointer;
                }
                .gbc.edit-mode .gbc-field {
                    border: 1px solid gray;
                }

                .gbc-epcc {
                    position: fixed;
                    bottom: 3vh;
                    right: 3vh;
                    background: #fff;
                    color: #000;
                    padding: 3%;
                    border: 1px solid #b83434;
                    border-radius: 15px;
                    display: flex;
                    justify-content: space-evenly;
                    align-items: center;
                    flex-direction: column;
                }
                .gbc-epcc h2 {
                    color: #b83434;
                    margin-bottom: 1%;
                }
                .gbc-rotate-180 {
                    transform: rotate(180deg) !important;
                }
            </style>
        `
    }
}

window.Gleisbild = Gleisbild